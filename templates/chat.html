{% extends "base.html" %}
{% block content %}
  <div class="main-content card col-8" id="chat-window">
    <div class="card-header">
      <h2 class="card-title mb-0">Interactive Quiz Chat</h2>
    </div>
    <div class="card-body" id="chat-body">
      {% for message in messages %}
        {% if message["role"] == "user" %}
          <div class="row">
            <div class="col-8 offset-4">
              <p class="user-message">{{ message["content"] }}</p>
            </div>
          </div>
        {% else %}
          <div class="row">
            <div class="col-8">
              <p class="ai-message">{{ message["content"] }}</p>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    <div class="m-3">
      <form
        action="#"
        method="POST"
        class="input-group"
        id="message-form"
        autocomplete="off"
      >
        <textarea
          name="message"
          autocomplete="off"
          class="form-control"
          placeholder="Type your message here"
          rows="1"
          autofocus
        ></textarea>
        <button class="btn btn-primary">Send</button>
      </form>
    </div>
  </div>
  <div class="dropdown colide-menu-1">
    <button
      class="btn btn-secondary dropdown-toggle"
      type="button"
      data-bs-toggle="dropdown"
    >
      Select model
    </button>
    <ul class="dropdown-menu">
      <li>
        <a class="dropdown-item" href="{{ url_for('quiz', model='test') }}"
          >Test mode</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="{{ url_for('quiz', model='gpt-3.5') }}"
          >GPT-3.5</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="{{ url_for('quiz', model='gpt-4') }}"
          >GPT-4</a
        >
      </li>
    </ul>
  </div>
{% endblock %}
